<div class="card shadow-sm mb-4">
  <div class="card-body p-4">
    <h2 class="h6 mb-3">Post to #{{ channel.name }}</h2>
    <form method="post" action="{{ url_for('channels.get_channel', channel_id=channel.id) }}" novalidate>
      {{ post_form.hidden_tag() }}

      {% if post_form.channel_id is defined %}
        {{ post_form.channel_id(value=channel.id) }}
      {% else %}
        <input type="hidden" name="channel_id" value="{{ channel.id }}">
      {% endif %}

      <div class="mb-3">
        {{ post_form.body.label(class="form-label") }}
        {% set classes = "form-control" + (" is-invalid" if post_form.body.errors else "") %}
        {{ post_form.body(class=classes, rows=3, maxlength="255", placeholder="Share something with the channelâ€¦") }}
        {% if post_form.body.errors %}
          <div class="invalid-feedback">{{ post_form.body.errors[0] }}</div>
        {% endif %}
        <div class="form-text"><span id="post-body-count">0</span>/255</div>
      </div>

      <div class="mb-3">
        {{ post_form.tags.label(class="form-label") }}
        {% set tclasses = "form-control" + (" is-invalid" if post_form.tags.errors else "") %}
        {{ post_form.tags(class=tclasses, maxlength="255", placeholder="e.g. updates, release") }}
        {% if post_form.tags.errors %}
          <div class="invalid-feedback">{{ post_form.tags.errors[0] }}</div>
        {% endif %}
      </div>

      <button class="btn btn-primary" type="submit">{{ post_form.submit.label.text }}</button>
    </form>
  </div>
</div>
